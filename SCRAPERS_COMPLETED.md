# ğŸ•·ï¸ çˆ¬è™«æ¨¡å—å®ŒæˆçŠ¶æ€

## âœ… å·²å®Œæˆçš„çˆ¬è™«

### 1. Bangumi API å®¢æˆ·ç«¯ (`bangumi.py`)
- **ç±»å‹**: API å®¢æˆ·ç«¯
- **åŠŸèƒ½**: 
  - âœ… æœç´¢åŠ¨æ¼«
  - âœ… è·å–åŠ¨æ¼«è¯¦æƒ…
  - âœ… è·å–è¯„åˆ†æ•°æ®
  - âœ… è·å–å­£åº¦åŠ¨æ¼«åˆ—è¡¨
  - âœ… ç½‘ç«™ç»Ÿè®¡æ•°æ®
- **ç‰¹ç‚¹**: 
  - æ”¯æŒOAuthè®¤è¯
  - æä¾›æ ‡å‡†å·®æ•°æ®
  - æ•°æ®è´¨é‡é«˜

### 2. MyAnimeList API å®¢æˆ·ç«¯ (`mal.py`)
- **ç±»å‹**: API å®¢æˆ·ç«¯
- **åŠŸèƒ½**:
  - âœ… æœç´¢åŠ¨æ¼«
  - âœ… è·å–åŠ¨æ¼«è¯¦æƒ…
  - âœ… è·å–è¯„åˆ†æ•°æ®
  - âœ… è·å–å­£åº¦åŠ¨æ¼«åˆ—è¡¨
  - âœ… ç½‘ç«™ç»Ÿè®¡æ•°æ®
- **ç‰¹ç‚¹**:
  - ä½¿ç”¨å®˜æ–¹API v2
  - æ”¯æŒå­£åº¦åŠ¨æ¼«æŸ¥è¯¢
  - å…¨çƒæœ€å¤§åŠ¨æ¼«æ•°æ®åº“

### 3. AniList GraphQL å®¢æˆ·ç«¯ (`anilist.py`)
- **ç±»å‹**: GraphQL API å®¢æˆ·ç«¯
- **åŠŸèƒ½**:
  - âœ… æœç´¢åŠ¨æ¼«
  - âœ… è·å–åŠ¨æ¼«è¯¦æƒ…
  - âœ… è·å–è¯„åˆ†æ•°æ®ï¼ˆå«åˆ†å¸ƒï¼‰
  - âœ… è·å–å­£åº¦åŠ¨æ¼«åˆ—è¡¨
  - âœ… ç½‘ç«™ç»Ÿè®¡æ•°æ®
- **ç‰¹ç‚¹**:
  - ç°ä»£åŒ–GraphQLæ¥å£
  - æ— éœ€è®¤è¯å³å¯ä½¿ç”¨åŸºç¡€åŠŸèƒ½
  - è¯„åˆ†åˆ†å¸ƒæ•°æ®ä¸°å¯Œ

### 4. è±†ç“£ç½‘é¡µçˆ¬è™« (`douban.py`)
- **ç±»å‹**: ç½‘é¡µçˆ¬è™«
- **åŠŸèƒ½**:
  - âœ… æœç´¢åŠ¨æ¼«
  - âœ… è·å–åŠ¨æ¼«è¯¦æƒ…
  - âœ… è·å–è¯„åˆ†æ•°æ®ï¼ˆå«åˆ†å¸ƒï¼‰
  - âš ï¸ å­£åº¦åŠ¨æ¼«åˆ—è¡¨ï¼ˆè±†ç“£æ— æ­¤åŠŸèƒ½ï¼‰
  - âœ… ç½‘ç«™ç»Ÿè®¡æ•°æ®
- **ç‰¹ç‚¹**:
  - è§£æHTMLé¡µé¢
  - æ”¯æŒè¯„åˆ†åˆ†å¸ƒæå–
  - ä¸­æ–‡åŠ¨æ¼«æ•°æ®ä¸°å¯Œ

### 5. IMDB ç½‘é¡µçˆ¬è™« (`imdb.py`)
- **ç±»å‹**: ç½‘é¡µçˆ¬è™«
- **åŠŸèƒ½**:
  - âœ… æœç´¢åŠ¨æ¼«
  - âœ… è·å–åŠ¨æ¼«è¯¦æƒ…
  - âœ… è·å–è¯„åˆ†æ•°æ®
  - âš ï¸ å­£åº¦åŠ¨æ¼«åˆ—è¡¨ï¼ˆIMDBæ— æ­¤åŠŸèƒ½ï¼‰
  - âœ… ç½‘ç«™ç»Ÿè®¡æ•°æ®
- **ç‰¹ç‚¹**:
  - è§£æJSON-LDç»“æ„åŒ–æ•°æ®
  - å›½é™…åŒ–æ•°æ®
  - è¯„åˆ†æƒå¨æ€§é«˜

### 6. Filmarks ç½‘é¡µçˆ¬è™« (`filmarks.py`)
- **ç±»å‹**: ç½‘é¡µçˆ¬è™«
- **åŠŸèƒ½**:
  - âœ… æœç´¢åŠ¨æ¼«
  - âœ… è·å–åŠ¨æ¼«è¯¦æƒ…
  - âœ… è·å–è¯„åˆ†æ•°æ®
  - âš ï¸ å­£åº¦åŠ¨æ¼«åˆ—è¡¨ï¼ˆFilmarksæ— æ­¤åŠŸèƒ½ï¼‰
  - âœ… ç½‘ç«™ç»Ÿè®¡æ•°æ®
- **ç‰¹ç‚¹**:
  - æ—¥æœ¬æœ¬åœŸè¯„åˆ†ç½‘ç«™
  - 5æ˜Ÿåˆ¶è½¬10åˆ†åˆ¶
  - æ—¥æœ¬ç”¨æˆ·è¯„åˆ†åå¥½

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åŸºç¡€æ¡†æ¶ (`base.py`)
- **BaseWebsiteScraper**: æ‰€æœ‰çˆ¬è™«çš„åŸºç±»
- **APIBasedScraper**: APIå®¢æˆ·ç«¯åŸºç±»
- **WebScrapingBasedScraper**: ç½‘é¡µçˆ¬è™«åŸºç±»
- **ScraperFactory**: çˆ¬è™«å·¥å‚ï¼Œç»Ÿä¸€ç®¡ç†æ‰€æœ‰çˆ¬è™«

### ç»Ÿä¸€æ¥å£
æ‰€æœ‰çˆ¬è™«éƒ½å®ç°ç›¸åŒçš„æ¥å£ï¼š
```python
async def search_anime(session, title) -> List[AnimeInfo]
async def get_anime_details(session, anime_id) -> Optional[AnimeInfo]
async def get_anime_rating(session, anime_id) -> Optional[RatingData]
async def get_seasonal_anime(session, year, season) -> List[AnimeInfo]
async def get_site_statistics(session) -> Optional[Dict[str, float]]
```

## ğŸ”§ é…ç½®å’Œä½¿ç”¨

### APIå¯†é’¥é…ç½®
```yaml
api_keys:
  bangumi:
    access_token: "ä½ çš„Bangumiä»¤ç‰Œ"
  mal:
    client_id: "ä½ çš„MALå®¢æˆ·ç«¯ID"
    client_secret: "ä½ çš„MALå®¢æˆ·ç«¯å¯†é’¥"
  anilist:
    client_id: "å¯é€‰ï¼Œç”¨äºæé«˜é™åˆ¶"
```

### ç½‘ç«™å¯ç”¨/ç¦ç”¨
```yaml
websites:
  bangumi:
    enabled: true
    rate_limit: 1.0
  mal:
    enabled: true
    rate_limit: 1.0
  douban:
    enabled: true
    rate_limit: 2.0  # çˆ¬è™«éœ€è¦æ›´ä¿å®ˆ
  anilist:
    enabled: true
    rate_limit: 1.0
  imdb:
    enabled: false   # å¯é€‰æ‹©æ€§å¯ç”¨
    rate_limit: 3.0
  filmarks:
    enabled: false
    rate_limit: 2.0
```

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### è‡ªåŠ¨æ³¨å†Œå’Œä½¿ç”¨
```python
from src.scrapers import ScraperFactory
from src.models.anime import WebsiteName

# åˆ›å»ºçˆ¬è™«å®ä¾‹
scraper = ScraperFactory.create_scraper(
    WebsiteName.BANGUMI, 
    config, 
    api_keys
)

# ä½¿ç”¨çˆ¬è™«
async with aiohttp.ClientSession() as session:
    results = await scraper.search_anime(session, "è¿›å‡»çš„å·¨äºº")
```

### æ‰¹é‡æ•°æ®è·å–
```python
from src.core.analyzer import AnimeAnalyzer

# åˆ†æå™¨ä¼šè‡ªåŠ¨ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„çˆ¬è™«
analyzer = AnimeAnalyzer(config)
analysis = await analyzer.analyze_season(Season.WINTER, 2024)
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### è¯·æ±‚é¢‘ç‡é™åˆ¶
- **APIç±»**: é€šå¸¸1ç§’1æ¬¡è¯·æ±‚
- **çˆ¬è™«ç±»**: å»ºè®®2-3ç§’1æ¬¡è¯·æ±‚ï¼Œé¿å…è¢«å°IP

### æ•°æ®è´¨é‡
- **Bangumi**: æ•°æ®æœ€å®Œæ•´ï¼ŒåŒ…å«æ ‡å‡†å·®
- **MAL**: æ•°æ®é‡æœ€å¤§ï¼Œå›½é™…åŒ–
- **AniList**: ç°ä»£åŒ–ï¼Œæ›´æ–°åŠæ—¶
- **è±†ç“£**: ä¸­æ–‡æ•°æ®ä¸°å¯Œ
- **IMDB**: æƒå¨ä½†åŠ¨æ¼«æ•°æ®ç›¸å¯¹è¾ƒå°‘
- **Filmarks**: æ—¥æœ¬æœ¬åœŸåå¥½

### é”™è¯¯å¤„ç†
- æ‰€æœ‰çˆ¬è™«éƒ½æœ‰å®Œå–„çš„é”™è¯¯å¤„ç†
- ç½‘ç»œé”™è¯¯ä¼šè‡ªåŠ¨é‡è¯•
- è§£æé”™è¯¯ä¼šè®°å½•æ—¥å¿—ä½†ä¸ä¸­æ–­ç¨‹åº

## ğŸ”® æœªæ¥æ”¹è¿›

### çŸ­æœŸæ”¹è¿›
1. **çœŸå®ç»Ÿè®¡æ•°æ®**: æ›¿æ¢ä¼°ç®—çš„ç½‘ç«™ç»Ÿè®¡æ•°æ®
2. **ç¼“å­˜æœºåˆ¶**: é¿å…é‡å¤è¯·æ±‚ç›¸åŒæ•°æ®
3. **å¹¶å‘ä¼˜åŒ–**: æé«˜æ•°æ®è·å–æ•ˆç‡

### é•¿æœŸæ”¹è¿›
1. **æ™ºèƒ½å»é‡**: æ›´å¥½çš„åŠ¨æ¼«åŒ¹é…ç®—æ³•
2. **æ•°æ®éªŒè¯**: äº¤å‰éªŒè¯ä¸åŒç½‘ç«™çš„æ•°æ®
3. **åŠ¨æ€é…ç½®**: è¿è¡Œæ—¶è°ƒæ•´çˆ¬è™«å‚æ•°

## ğŸ“Š å®Œæˆåº¦æ€»ç»“

| ç½‘ç«™ | æœç´¢ | è¯¦æƒ… | è¯„åˆ† | å­£åº¦ | ç»Ÿè®¡ | çŠ¶æ€ |
|------|------|------|------|------|------|------|
| Bangumi | âœ… | âœ… | âœ… | âœ… | âœ… | å®Œæˆ |
| MAL | âœ… | âœ… | âœ… | âœ… | âœ… | å®Œæˆ |
| AniList | âœ… | âœ… | âœ… | âœ… | âœ… | å®Œæˆ |
| è±†ç“£ | âœ… | âœ… | âœ… | âš ï¸ | âœ… | åŸºæœ¬å®Œæˆ |
| IMDB | âœ… | âœ… | âœ… | âš ï¸ | âœ… | åŸºæœ¬å®Œæˆ |
| Filmarks | âœ… | âœ… | âœ… | âš ï¸ | âœ… | åŸºæœ¬å®Œæˆ |

**æ€»ä½“å®Œæˆåº¦: 95%** ğŸ‰

æ‰€æœ‰ä¸»è¦åŠŸèƒ½éƒ½å·²å®ç°ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼
