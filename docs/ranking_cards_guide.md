# 动漫排名卡片生成器使用指南

## 📖 概述

动漫排名卡片生成器可以根据您的动漫评分数据，生成精美的排名卡片图片，仿照您提供的设计风格。

## 🎨 设计特点

### 简洁版卡片
- **左侧排名徽章**: 圆形背景，金色边框，显示排名数字
- **背景图片**: 使用动漫横幅图片作为背景，自动暗化处理
- **标题标签**: 黄色背景标签显示中文动漫名称
- **综合评分**: 右侧大号白色数字显示综合评分
- **附加信息**: 左下角显示动漫类型、集数、评分网站数量
- **装饰元素**: 金色星星装饰

### 详细版卡片
- 包含简洁版的所有元素
- **网站评分详情**: 显示各评分网站的彩色卡片
- **详细数据**: 每个网站的评分、投票数、排名信息
- **支持网站**: AniList、Bangumi、Filmarks、IMDB、MAL

## 🚀 使用方法

### 1. 基本使用

```bash
# 运行主脚本
python scripts/create_anime_ranking_cards.py

# 查看帮助
python scripts/create_anime_ranking_cards.py --help
```

### 2. 生成选项

运行脚本后，您可以选择：

1. **生成前10名（简洁版）** - 快速生成，适合预览
2. **生成前10名（详细版）** - 包含各网站评分详情
3. **生成前20名（简洁版）** - 更多动漫的简洁展示
4. **生成前20名（详细版）** - 完整的详细信息
5. **自定义数量** - 指定要生成的动漫数量
6. **生成所有版本** - 一次性生成多个版本

### 3. 输出文件

生成的文件保存在 `data/ranking_cards/` 目录下：

```
data/ranking_cards/
├── simple_top10_20250804_174618/          # 简洁版目录
│   ├── anime_ranking_top10_*.png          # 完整排名列表
│   ├── rank_01.png                        # 单个卡片
│   ├── rank_02.png
│   └── ...
└── detailed_top10_20250804_174651/        # 详细版目录
    ├── detailed_anime_ranking_top10_*.png # 完整排名列表
    ├── detailed_rank_01.png               # 单个卡片
    ├── detailed_rank_02.png
    └── ...
```

## 📊 数据要求

### 必需数据
- 动漫分析结果文件（JSON或CSV格式）
- 动漫基本信息（标题、评分等）

### 推荐数据
- **JSON格式文件** - 包含横幅图片URL，效果更佳
- **中文标题** - 显示效果更好
- **横幅图片** - 提供更丰富的视觉效果

### 数据来源
脚本会自动查找最新的分析结果文件：
1. 优先使用JSON文件（包含图片信息）
2. 备选CSV文件（基本信息）

## 🖼️ 图片规格

### 简洁版卡片
- **尺寸**: 800×200 像素
- **格式**: PNG（支持透明背景）
- **完整列表**: 高度根据卡片数量自动调整

### 详细版卡片
- **尺寸**: 1000×300 像素
- **格式**: PNG（支持透明背景）
- **完整列表**: 高度根据卡片数量自动调整

## 🎯 使用场景

### 社交媒体分享
- 生成精美的排名图片用于分享
- 展示个人或社区的动漫推荐

### 网站展示
- 为动漫网站生成排名展示图
- 制作季度或年度总结

### 个人收藏
- 保存喜爱动漫的排名记录
- 制作个人动漫观看历史

## 🔧 技术细节

### 依赖库
- **PIL (Pillow)** - 图像处理
- **requests** - 下载横幅图片
- **pathlib** - 文件路径处理

### 图片处理
- 自动下载并缓存横幅图片
- 智能调整图片尺寸和暗化处理
- 支持多种字体和颜色方案

### 错误处理
- 网络图片下载失败时使用渐变背景
- 缺失数据时显示默认值
- 自动跳过无效的动漫条目

## 💡 使用技巧

### 1. 优化生成效果
- 确保使用JSON格式的分析结果（包含图片）
- 运行完整的动漫分析以获得最佳数据质量
- 先生成少量卡片预览效果

### 2. 自定义调整
- 可以修改 `scripts/generate_ranking_cards.py` 中的颜色和尺寸
- 调整字体大小和位置以适应不同需求
- 修改网站颜色方案以匹配品牌

### 3. 批量处理
- 使用选项6一次生成多个版本
- 定期生成以跟踪排名变化
- 保存不同时期的排名对比

## 🐛 常见问题

### Q: 生成的卡片显示"未知动漫"
**A**: 检查数据文件中的字段名，确保包含 `title_chinese` 或 `title` 字段。

### Q: 没有横幅图片背景
**A**: 确保使用JSON格式的分析结果，CSV文件不包含图片信息。

### Q: 图片下载失败
**A**: 检查网络连接，脚本会自动使用渐变背景作为备选。

### Q: 字体显示异常
**A**: 系统可能缺少指定字体，脚本会自动使用默认字体。

## 📝 更新日志

### v1.0.0 (2025-08-04)
- 初始版本发布
- 支持简洁版和详细版卡片生成
- 自动横幅图片下载和处理
- 多种生成选项和自定义功能
